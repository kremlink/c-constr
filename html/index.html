<!DOCTYPE html>
<html>
    <head>
        @@include('components/head.html')
    </head>
    <body>
        <div id="wrap">
            @@include('components/header.html')
            <main class="constr-cont">
                <div class="constr-choose">
                    <div class="constr-h1">Настройка виджета</div>
                    <div class="constr-b">Тематика — <span class="constr-highlight">Юридические услуги</span></div>
                    <div class="constr-b">URL подключаемого сайта</div>
                    <input data-data='{"for":["chat","form"],"name":"u"}' placeholder="Укажите URL без www и http://" type="text" value="" />
                    <div class="constr-b">Рекламная форма</div>
                    <select class="constr-type"></select>
                    <div class="constr-block constr-type-block" data-type="chat">
                        <div class="constr-b">Вид формы</div>
                        <select data-data='{"for":["chat"],"name":"ch-th","alias":"th"}'></select>
                        <div class="constr-b">Готовое цветовое решение</div>
                        <select data-data='{"for":["chat"],"name":"ch-r"}'></select>
                        <div class="constr-h1">Местоположение виджета</div>
                        <div class="constr-b">Позиция</div>
                        <select data-data='{"for":["chat"],"name":"p"}'></select>
                        <div class="constr-b">Отступ от края экрана, px</div>
                        <input data-data='{"for":["chat"],"name":"sh","valid":"\\S+"}' type="text" value="0" />
                    </div>
                    <div class="constr-type-block" data-type="form">
                        <div class="constr-b">Вид формы</div>
                        <select data-data='{"for":["form"],"name":"f-th","alias":"th"}'></select>
                        <div class="constr-b">Готовое цветовое решение</div>
                        <select data-data='{"for":["form"],"name":"f-r"}'></select>
                    </div>
                    <div class="constr-b">Произвольное цветовое решение</div>
                    <div class="constr-color">
                        <div>
                            Цвет формы
                            <input data-data='{"for":["chat","form"],"name":"bg-c","color":true}' type="text" value="" />
                        </div>
                        <div>
                            Цвет шрифта
                            <input data-data='{"for":["chat","form"],"name":"t-c","color":true}' type="text" value="" />
                        </div>
                    </div>
                    <div class="constr-type-block" data-type="form">
                        <div class="constr-b">Размер формы</div>
                        <p class="constr-size">
                            Данная форма автоматически подстраивается под размер блока, в котором она размещается.
                            Так же у Вас есть возможность выставить ее размер вручную.
                        </p>
                    </div>
                    <div class="constr-b shift">Счетчик Я. Метрики<a class="q" href=""></a></div>
                    <input placeholder="27405365" data-data='{"for":["chat","form"],"name":"y-m"}' type="text" />
                    <div class="constr-b">Счетчик G. Аналитики<a class="q" href=""></a></div>
                    <input placeholder="UA-78882987-1" data-data='{"for":["chat","form"],"name":"g-a"}' type="text" />
                    <div class="constr-block constr-type-block" data-type="chat">
                        <div class="constr-h1">Содержимое виджета</div>
                        <div class="constr-b">Имя юриста</div>
                        <input data-data='{"for":["chat"],"name":"n","valid":"\\S+"}' type="text" value="Имя юриста" />
                        <div class="constr-b">Должность</div>
                        <input data-data='{"for":["chat"],"name":"j","valid":"\\S+"}' type="text" value="Должность" />
                        <div class="constr-b">Выбор фотографии</div>
                        <select data-data='{"for":["chat"],"name":"ch-ph","alias":"ph"}'></select>
                    </div>
                    <div class="constr-block constr-type-block" data-type="form">
                        <div class="constr-h1">Содержимое формы</div>
                        <div class="constr-b">Заголовок</div>
                        <input data-data='{"for":["form"],"name":"h","valid":"\\S+"}' type="text" value="Заголовок" />
                        <div class="constr-b">Подзаголовок</div>
                        <input data-data='{"for":["form"],"name":"s-h","valid":"\\S+"}' type="text" value="ползаголовок и т.д." />
                        <div class="constr-b">Выбор фотографии</div>
                        <select data-data='{"for":["form"],"name":"f-ph","alias":"ph"}'></select>
                    </div>
                </div>
                <div class="constr-result">
                    <div class="constr-frame">
                        <iframe class="constr-ext" frameborder="0"></iframe>
                        <div class="constr-overlay"></div>
                    </div>
                    <div class="constr-out-wrap">
                        <div class="constr-out-h">
                            <div class="constr-type-block" data-type="chat">Скопируйте код виджета и установите его на свой сайт. После вставки кода виджет моментально приступит к работе.</div>
                            <div class="constr-type-block" data-type="form">Код Iframe формы <span class="constr-highlight"></span></div>
                        </div>
                        <pre class="constr-out"></pre>
                    </div>
                </div>
            </main>
            @@include('components/footer.html')
        </div>
        <script>
            var formConstructor={
                config:{
                    elements:{
                        //blocks to show depending on what widget is chosen
                        blocks:{
                            items:'.constr-type-block',
                            data:'type'
                        },
                        //main "type" select, which defines what widget is chosen
                        type:{
                            item:'.constr-type',
                            options:[
                                {value:'chat',text:'Чат',uid:54321,base:'js/sovinformburo-chat.js?'},
                                {value:'form',text:'Форма',uid:54321,base:'js/sovinformburo-form.js?'}
                            ]
                        },
                        ctrls:{
                            items:'.constr-choose select:not(.constr-type),.constr-choose input',
                            data:'data'
                        },
                        sels:{
                            //position select data
                            p:{
                                options:[{value:'l-b',text:'Левый нижний угол'},{value:'r-b',text:'Правый нижний угол'}]
                            },
                            //theme select data
                            'ch-th':{
                                options:[{value:'theme1',text:'Theme1'},{value:'theme2',text:'Theme2'},{value:'theme3',text:'Theme3'}]
                            },
                            'f-th':{
                                options:[{value:'theme1:0|440',text:'Theme1'},{value:'theme2:598|415',text:'Theme2'},{value:'theme3:0|415',text:'Theme3'},{value:'theme4:598|415',text:'Theme4'}]
                            },
                            //color set select data
                            'ch-r':{
                                options:[{value:'#bc3c33,#fff',text:'Бордово-белое'},{value:'#0f0,#fff',text:'Зелено-белое'}]
                            },
                            'f-r':{
                                options:[{value:'#bc3c33,#fff',text:'Бордово-белое'},{value:'#f00,#00f',text:'Красно-синее'},{value:'#0f0,#fff',text:'Зелено-белое'}]
                            },
                            //photo select data
                            'ch-ph':{
                                options:[{value:'photo1.png',text:'Мужчина (1)'},{value:'photo2.png',text:'Мужчина (2)'}]
                            },
                            //photo select data
                            'f-ph':{
                                options:[{value:'f-pers.jpg',text:'Мужчина (1)'},{value:'f-pers1.jpg',text:'Мужчина (2)'}]
                            }
                        },
                        //frames
                        dest:{
                            into:'.constr-frame',
                            external:'.constr-ext'
                        },
                        //output text
                        output:'.constr-out'
                    },
                    //general params
                    data:{
                        errCls:'error',
                        src:'constr.html',
                        baseUrl:'here/',
                        //don't add these elements' values to src
                        omit:['u','ch-r','f-r'],
                        //do nothing when changing these elements' values
                        ignore:['ch-r','f-r']
                    }
                }
            };
        </script>
        @@include('components/scripts.html')
    </body>
</html>